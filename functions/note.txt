# Delete functions cũ trước
firebase functions:delete autoPostNews
firebase functions:delete triggerNewsPost  
firebase functions:delete getRecentNewsPosts

# Deploy functions mới
firebase deploy --only functions

# Verify deployment
firebase functions:list

# Test manual trigger
Invoke-WebRequest `
  -Uri "https://us-central1-fir-auth-cozy.cloudfunctions.net/triggerNewsPost" `
  -Method POST `
  -Body '{}' `
  -ContentType "application/json"

# Check recent posts
Invoke-WebRequest `
  -Uri "https://us-central1-fir-auth-cozy.cloudfunctions.net/getRecentNewsPosts" `
  -Method GET
  
# Monitor logs
firebase functions:log --only autoPostNews
firebase functions:log --only triggerNewsPost

https://us-central1-fir-auth-cozy.cloudfunctions.net/getRecentNewsPosts
https://us-central1-fir-auth-cozy.cloudfunctions.net/triggerNewsPost

# Set NewsAPI key nếu chưa có
firebase functions:config:set newsapi.key="YOUR_NEWSAPI_KEY"

# Verify config
firebase functions:config:get